/* CharacterMapSideBar.c generated by valac 0.26.1, the Vala compiler
 * generated from CharacterMapSideBar.vala, do not modify */

/* CharacterMapSideBar.vala
 *
 * Copyright (C) 2009 - 2015 Jerry Casiano
 *
 * This file is part of Font Manager.
 *
 * Font Manager is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * Font Manager is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Font Manager.  If not, see <http://www.gnu.org/licenses/>.
 *
 * Author:
 *        Jerry Casiano <JerryCasiano@gmail.com>
*/

#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <stdlib.h>
#include <string.h>
#include <gucharmap/gucharmap.h>
#include <gee.h>
#include <pango/pango.h>
#include <glib/gi18n-lib.h>


#define FONT_MANAGER_TYPE_CHARACTER_MAP_SIDE_BAR_MODE (font_manager_character_map_side_bar_mode_get_type ())

#define FONT_MANAGER_TYPE_CHARACTER_MAP_SIDE_BAR (font_manager_character_map_side_bar_get_type ())
#define FONT_MANAGER_CHARACTER_MAP_SIDE_BAR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), FONT_MANAGER_TYPE_CHARACTER_MAP_SIDE_BAR, FontManagerCharacterMapSideBar))
#define FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), FONT_MANAGER_TYPE_CHARACTER_MAP_SIDE_BAR, FontManagerCharacterMapSideBarClass))
#define FONT_MANAGER_IS_CHARACTER_MAP_SIDE_BAR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), FONT_MANAGER_TYPE_CHARACTER_MAP_SIDE_BAR))
#define FONT_MANAGER_IS_CHARACTER_MAP_SIDE_BAR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), FONT_MANAGER_TYPE_CHARACTER_MAP_SIDE_BAR))
#define FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), FONT_MANAGER_TYPE_CHARACTER_MAP_SIDE_BAR, FontManagerCharacterMapSideBarClass))

typedef struct _FontManagerCharacterMapSideBar FontManagerCharacterMapSideBar;
typedef struct _FontManagerCharacterMapSideBarClass FontManagerCharacterMapSideBarClass;
typedef struct _FontManagerCharacterMapSideBarPrivate FontManagerCharacterMapSideBarPrivate;
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))

#define TYPE_CELL_RENDERER_PILL (cell_renderer_pill_get_type ())
#define CELL_RENDERER_PILL(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_CELL_RENDERER_PILL, CellRendererPill))
#define CELL_RENDERER_PILL_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_CELL_RENDERER_PILL, CellRendererPillClass))
#define IS_CELL_RENDERER_PILL(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_CELL_RENDERER_PILL))
#define IS_CELL_RENDERER_PILL_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_CELL_RENDERER_PILL))
#define CELL_RENDERER_PILL_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_CELL_RENDERER_PILL, CellRendererPillClass))

typedef struct _CellRendererPill CellRendererPill;
typedef struct _CellRendererPillClass CellRendererPillClass;

#define TYPE_CELL_RENDERER_COUNT (cell_renderer_count_get_type ())
#define CELL_RENDERER_COUNT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_CELL_RENDERER_COUNT, CellRendererCount))
#define CELL_RENDERER_COUNT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_CELL_RENDERER_COUNT, CellRendererCountClass))
#define IS_CELL_RENDERER_COUNT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_CELL_RENDERER_COUNT))
#define IS_CELL_RENDERER_COUNT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_CELL_RENDERER_COUNT))
#define CELL_RENDERER_COUNT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_CELL_RENDERER_COUNT, CellRendererCountClass))

typedef struct _CellRendererCount CellRendererCount;
typedef struct _CellRendererCountClass CellRendererCountClass;
#define _gtk_tree_path_free0(var) ((var == NULL) ? NULL : (var = (gtk_tree_path_free (var), NULL)))

typedef enum  {
	FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_MODE_SCRIPT,
	FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_MODE_BLOCK,
	FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_MODE_N_MODES
} FontManagerCharacterMapSideBarMode;

struct _FontManagerCharacterMapSideBar {
	GtkBox parent_instance;
	FontManagerCharacterMapSideBarPrivate * priv;
};

struct _FontManagerCharacterMapSideBarClass {
	GtkBoxClass parent_class;
};

struct _FontManagerCharacterMapSideBarPrivate {
	gchar* _selected_script;
	gchar* _selected_block;
	GtkTreeView* script_view;
	GtkTreeView* block_view;
	GtkStack* stack;
	GtkStackSwitcher* switcher;
	GtkScrolledWindow* script_scroll;
	GtkScrolledWindow* block_scroll;
	GucharmapScriptChaptersModel* scripts;
	GucharmapBlockChaptersModel* blocks;
	GeeHashMap* num_chars;
};


static gpointer font_manager_character_map_side_bar_parent_class = NULL;

GType font_manager_character_map_side_bar_mode_get_type (void) G_GNUC_CONST;
GType font_manager_character_map_side_bar_get_type (void) G_GNUC_CONST;
#define FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), FONT_MANAGER_TYPE_CHARACTER_MAP_SIDE_BAR, FontManagerCharacterMapSideBarPrivate))
enum  {
	FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_DUMMY_PROPERTY,
	FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_MODE,
	FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_SELECTED_SCRIPT,
	FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_SELECTED_BLOCK
};
FontManagerCharacterMapSideBar* font_manager_character_map_side_bar_new (void);
FontManagerCharacterMapSideBar* font_manager_character_map_side_bar_construct (GType object_type);
GType cell_renderer_pill_get_type (void) G_GNUC_CONST;
GType cell_renderer_count_get_type (void) G_GNUC_CONST;
CellRendererCount* cell_renderer_count_new (void);
CellRendererCount* cell_renderer_count_construct (GType object_type);
void cell_renderer_count_set_type_name (CellRendererCount* self, const gchar* value);
void cell_renderer_count_set_type_name_plural (CellRendererCount* self, const gchar* value);
static void font_manager_character_map_side_bar_count_cell_data_func (FontManagerCharacterMapSideBar* self, GtkTreeViewColumn* layout, GtkCellRenderer* cell, GtkTreeModel* model, GtkTreeIter* treeiter);
static void _font_manager_character_map_side_bar_count_cell_data_func_gtk_tree_cell_data_func (GtkTreeViewColumn* tree_column, GtkCellRenderer* cell, GtkTreeModel* tree_model, GtkTreeIter* iter, gpointer self);
GtkSeparator* add_separator (GtkBox* box, GtkOrientation orientation, GtkPackType pack_type);
static void font_manager_character_map_side_bar_connect_signals (FontManagerCharacterMapSideBar* self);
static void font_manager_character_map_side_bar_real_show (GtkWidget* base);
void font_manager_character_map_side_bar_set_initial_selection (FontManagerCharacterMapSideBar* self, const gchar* script_path, const gchar* block_path);
FontManagerCharacterMapSideBarMode font_manager_character_map_side_bar_get_mode (FontManagerCharacterMapSideBar* self);
static void font_manager_character_map_side_bar_select_block_path (FontManagerCharacterMapSideBar* self, const gchar* block_path);
static void font_manager_character_map_side_bar_select_script_path (FontManagerCharacterMapSideBar* self, const gchar* script_path);
static void __lambda33_ (FontManagerCharacterMapSideBar* self, GtkTreeSelection* s);
static GtkTreeIter* _gtk_tree_iter_dup (GtkTreeIter* self);
void font_manager_character_map_side_bar_set_selected_script (FontManagerCharacterMapSideBar* self, const gchar* value);
static void ___lambda33__gtk_tree_selection_changed (GtkTreeSelection* _sender, gpointer self);
static void __lambda34_ (FontManagerCharacterMapSideBar* self, GtkTreeSelection* s);
void font_manager_character_map_side_bar_set_selected_block (FontManagerCharacterMapSideBar* self, const gchar* value);
static void ___lambda34__gtk_tree_selection_changed (GtkTreeSelection* _sender, gpointer self);
static void __lambda35_ (FontManagerCharacterMapSideBar* self);
void font_manager_character_map_side_bar_set_mode (FontManagerCharacterMapSideBar* self, FontManagerCharacterMapSideBarMode value);
const gchar* font_manager_character_map_side_bar_get_selected_script (FontManagerCharacterMapSideBar* self);
const gchar* font_manager_character_map_side_bar_get_selected_block (FontManagerCharacterMapSideBar* self);
static void ___lambda35__g_object_notify (GObject* _sender, GParamSpec* pspec, gpointer self);
static void font_manager_character_map_side_bar_finalize (GObject* obj);
static void _vala_font_manager_character_map_side_bar_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec);
static void _vala_font_manager_character_map_side_bar_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);


GType font_manager_character_map_side_bar_mode_get_type (void) {
	static volatile gsize font_manager_character_map_side_bar_mode_type_id__volatile = 0;
	if (g_once_init_enter (&font_manager_character_map_side_bar_mode_type_id__volatile)) {
		static const GEnumValue values[] = {{FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_MODE_SCRIPT, "FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_MODE_SCRIPT", "script"}, {FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_MODE_BLOCK, "FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_MODE_BLOCK", "block"}, {FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_MODE_N_MODES, "FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_MODE_N_MODES", "n-modes"}, {0, NULL, NULL}};
		GType font_manager_character_map_side_bar_mode_type_id;
		font_manager_character_map_side_bar_mode_type_id = g_enum_register_static ("FontManagerCharacterMapSideBarMode", values);
		g_once_init_leave (&font_manager_character_map_side_bar_mode_type_id__volatile, font_manager_character_map_side_bar_mode_type_id);
	}
	return font_manager_character_map_side_bar_mode_type_id__volatile;
}


static gpointer _g_object_ref0 (gpointer self) {
	return self ? g_object_ref (self) : NULL;
}


static void _font_manager_character_map_side_bar_count_cell_data_func_gtk_tree_cell_data_func (GtkTreeViewColumn* tree_column, GtkCellRenderer* cell, GtkTreeModel* tree_model, GtkTreeIter* iter, gpointer self) {
	font_manager_character_map_side_bar_count_cell_data_func ((FontManagerCharacterMapSideBar*) self, tree_column, cell, tree_model, iter);
}


FontManagerCharacterMapSideBar* font_manager_character_map_side_bar_construct (GType object_type) {
	FontManagerCharacterMapSideBar * self = NULL;
	GeeHashMap* _tmp0_ = NULL;
	GtkStack* _tmp1_ = NULL;
	GucharmapScriptChaptersModel* _tmp2_ = NULL;
	GucharmapBlockChaptersModel* _tmp3_ = NULL;
	GtkTreeView* _tmp4_ = NULL;
	GtkTreeView* _tmp5_ = NULL;
	GtkTreeView* _tmp6_ = NULL;
	GucharmapScriptChaptersModel* _tmp7_ = NULL;
	GtkTreeView* _tmp8_ = NULL;
	GucharmapBlockChaptersModel* _tmp9_ = NULL;
	GtkTreeView** views = NULL;
	GtkTreeView* _tmp10_ = NULL;
	GtkTreeView* _tmp11_ = NULL;
	GtkTreeView* _tmp12_ = NULL;
	GtkTreeView* _tmp13_ = NULL;
	GtkTreeView** _tmp14_ = NULL;
	gint views_length1 = 0;
	gint _views_size_ = 0;
	GtkTreeView** _tmp15_ = NULL;
	gint _tmp15__length1 = 0;
	GtkScrolledWindow* _tmp36_ = NULL;
	GtkScrolledWindow* _tmp37_ = NULL;
	GtkTreeView* _tmp38_ = NULL;
	GtkScrolledWindow* _tmp39_ = NULL;
	GtkScrolledWindow* _tmp40_ = NULL;
	GtkTreeView* _tmp41_ = NULL;
	GtkStack* _tmp42_ = NULL;
	GtkScrolledWindow* _tmp43_ = NULL;
	const gchar* _tmp44_ = NULL;
	GtkStack* _tmp45_ = NULL;
	GtkScrolledWindow* _tmp46_ = NULL;
	const gchar* _tmp47_ = NULL;
	GtkStackSwitcher* _tmp48_ = NULL;
	GtkStackSwitcher* _tmp49_ = NULL;
	GtkStack* _tmp50_ = NULL;
	GtkStack* _tmp51_ = NULL;
	GtkStyleContext* _tmp52_ = NULL;
	GtkStackSwitcher* _tmp53_ = NULL;
	GtkStyleContext* _tmp54_ = NULL;
	GtkStackSwitcher* _tmp55_ = NULL;
	GtkStackSwitcher* _tmp56_ = NULL;
	GtkStackSwitcher* _tmp57_ = NULL;
	GtkStackSwitcher* _tmp58_ = NULL;
	GtkSeparator* _tmp59_ = NULL;
	GtkSeparator* _tmp60_ = NULL;
	GtkStack* _tmp61_ = NULL;
	self = (FontManagerCharacterMapSideBar*) g_object_new (object_type, NULL);
	gtk_orientable_set_orientation ((GtkOrientable*) self, GTK_ORIENTATION_VERTICAL);
	_tmp0_ = gee_hash_map_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, G_TYPE_INT, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
	_g_object_unref0 (self->priv->num_chars);
	self->priv->num_chars = _tmp0_;
	_tmp1_ = (GtkStack*) gtk_stack_new ();
	g_object_ref_sink (_tmp1_);
	_g_object_unref0 (self->priv->stack);
	self->priv->stack = _tmp1_;
	_tmp2_ = (GucharmapScriptChaptersModel*) gucharmap_script_chapters_model_new ();
	_g_object_unref0 (self->priv->scripts);
	self->priv->scripts = _tmp2_;
	_tmp3_ = (GucharmapBlockChaptersModel*) gucharmap_block_chapters_model_new ();
	_g_object_unref0 (self->priv->blocks);
	self->priv->blocks = _tmp3_;
	_tmp4_ = (GtkTreeView*) gtk_tree_view_new ();
	g_object_ref_sink (_tmp4_);
	_g_object_unref0 (self->priv->script_view);
	self->priv->script_view = _tmp4_;
	_tmp5_ = (GtkTreeView*) gtk_tree_view_new ();
	g_object_ref_sink (_tmp5_);
	_g_object_unref0 (self->priv->block_view);
	self->priv->block_view = _tmp5_;
	_tmp6_ = self->priv->script_view;
	_tmp7_ = self->priv->scripts;
	gtk_tree_view_set_model (_tmp6_, (GtkTreeModel*) _tmp7_);
	_tmp8_ = self->priv->block_view;
	_tmp9_ = self->priv->blocks;
	gtk_tree_view_set_model (_tmp8_, (GtkTreeModel*) _tmp9_);
	_tmp10_ = self->priv->script_view;
	_tmp11_ = _g_object_ref0 (_tmp10_);
	_tmp12_ = self->priv->block_view;
	_tmp13_ = _g_object_ref0 (_tmp12_);
	_tmp14_ = g_new0 (GtkTreeView*, 2 + 1);
	_tmp14_[0] = _tmp11_;
	_tmp14_[1] = _tmp13_;
	views = _tmp14_;
	views_length1 = 2;
	_views_size_ = views_length1;
	_tmp15_ = views;
	_tmp15__length1 = views_length1;
	{
		GtkTreeView** view_collection = NULL;
		gint view_collection_length1 = 0;
		gint _view_collection_size_ = 0;
		gint view_it = 0;
		view_collection = _tmp15_;
		view_collection_length1 = _tmp15__length1;
		for (view_it = 0; view_it < _tmp15__length1; view_it = view_it + 1) {
			GtkTreeView* _tmp16_ = NULL;
			GtkTreeView* view = NULL;
			_tmp16_ = _g_object_ref0 (view_collection[view_it]);
			view = _tmp16_;
			{
				GtkTreeView* _tmp17_ = NULL;
				GtkCellRendererText* render = NULL;
				GtkCellRendererText* _tmp18_ = NULL;
				GtkCellRendererText* _tmp19_ = NULL;
				CellRendererCount* count = NULL;
				CellRendererCount* _tmp20_ = NULL;
				CellRendererCount* _tmp21_ = NULL;
				CellRendererCount* _tmp22_ = NULL;
				CellRendererCount* _tmp23_ = NULL;
				GtkTreeSelection* selection = NULL;
				GtkTreeView* _tmp24_ = NULL;
				GtkTreeSelection* _tmp25_ = NULL;
				GtkTreeSelection* _tmp26_ = NULL;
				GtkTreeSelection* _tmp27_ = NULL;
				GtkTreeView* _tmp28_ = NULL;
				GtkCellRendererText* _tmp29_ = NULL;
				GtkTreeView* _tmp30_ = NULL;
				CellRendererCount* _tmp31_ = NULL;
				GtkTreeView* _tmp32_ = NULL;
				GtkTreeViewColumn* _tmp33_ = NULL;
				GtkTreeView* _tmp34_ = NULL;
				GtkTreeViewColumn* _tmp35_ = NULL;
				_tmp17_ = view;
				gtk_tree_view_set_headers_visible (_tmp17_, FALSE);
				_tmp18_ = (GtkCellRendererText*) gtk_cell_renderer_text_new ();
				g_object_ref_sink (_tmp18_);
				render = _tmp18_;
				_tmp19_ = render;
				g_object_set (_tmp19_, "ellipsize", PANGO_ELLIPSIZE_END, NULL);
				_tmp20_ = cell_renderer_count_new ();
				g_object_ref_sink (_tmp20_);
				count = _tmp20_;
				_tmp21_ = count;
				cell_renderer_count_set_type_name (_tmp21_, NULL);
				_tmp22_ = count;
				cell_renderer_count_set_type_name_plural (_tmp22_, NULL);
				_tmp23_ = count;
				g_object_set ((GtkCellRenderer*) _tmp23_, "xalign", 1.0f, NULL);
				_tmp24_ = view;
				_tmp25_ = gtk_tree_view_get_selection (_tmp24_);
				_tmp26_ = _g_object_ref0 (_tmp25_);
				selection = _tmp26_;
				_tmp27_ = selection;
				gtk_tree_selection_set_mode (_tmp27_, GTK_SELECTION_SINGLE);
				_tmp28_ = view;
				_tmp29_ = render;
				gtk_tree_view_insert_column_with_attributes (_tmp28_, 0, NULL, (GtkCellRenderer*) _tmp29_, "text", 0, NULL, NULL);
				_tmp30_ = view;
				_tmp31_ = count;
				gtk_tree_view_insert_column_with_data_func (_tmp30_, 1, "", (GtkCellRenderer*) _tmp31_, _font_manager_character_map_side_bar_count_cell_data_func_gtk_tree_cell_data_func, g_object_ref (self), g_object_unref);
				_tmp32_ = view;
				_tmp33_ = gtk_tree_view_get_column (_tmp32_, 0);
				gtk_tree_view_column_set_expand (_tmp33_, TRUE);
				_tmp34_ = view;
				_tmp35_ = gtk_tree_view_get_column (_tmp34_, 1);
				gtk_tree_view_column_set_expand (_tmp35_, FALSE);
				_g_object_unref0 (selection);
				_g_object_unref0 (count);
				_g_object_unref0 (render);
				_g_object_unref0 (view);
			}
		}
	}
	_tmp36_ = (GtkScrolledWindow*) gtk_scrolled_window_new (NULL, NULL);
	g_object_ref_sink (_tmp36_);
	_g_object_unref0 (self->priv->script_scroll);
	self->priv->script_scroll = _tmp36_;
	_tmp37_ = self->priv->script_scroll;
	_tmp38_ = self->priv->script_view;
	gtk_container_add ((GtkContainer*) _tmp37_, (GtkWidget*) _tmp38_);
	_tmp39_ = (GtkScrolledWindow*) gtk_scrolled_window_new (NULL, NULL);
	g_object_ref_sink (_tmp39_);
	_g_object_unref0 (self->priv->block_scroll);
	self->priv->block_scroll = _tmp39_;
	_tmp40_ = self->priv->block_scroll;
	_tmp41_ = self->priv->block_view;
	gtk_container_add ((GtkContainer*) _tmp40_, (GtkWidget*) _tmp41_);
	_tmp42_ = self->priv->stack;
	_tmp43_ = self->priv->script_scroll;
	_tmp44_ = _ ("Unicode Script");
	gtk_stack_add_titled (_tmp42_, (GtkWidget*) _tmp43_, "Scripts", _tmp44_);
	_tmp45_ = self->priv->stack;
	_tmp46_ = self->priv->block_scroll;
	_tmp47_ = _ ("Unicode Block");
	gtk_stack_add_titled (_tmp45_, (GtkWidget*) _tmp46_, "Blocks", _tmp47_);
	_tmp48_ = (GtkStackSwitcher*) gtk_stack_switcher_new ();
	g_object_ref_sink (_tmp48_);
	_g_object_unref0 (self->priv->switcher);
	self->priv->switcher = _tmp48_;
	_tmp49_ = self->priv->switcher;
	_tmp50_ = self->priv->stack;
	gtk_stack_switcher_set_stack (_tmp49_, _tmp50_);
	_tmp51_ = self->priv->stack;
	_tmp52_ = gtk_widget_get_style_context ((GtkWidget*) _tmp51_);
	gtk_style_context_add_class (_tmp52_, GTK_STYLE_CLASS_VIEW);
	_tmp53_ = self->priv->switcher;
	_tmp54_ = gtk_widget_get_style_context ((GtkWidget*) _tmp53_);
	gtk_style_context_add_class (_tmp54_, GTK_STYLE_CLASS_VIEW);
	_tmp55_ = self->priv->switcher;
	gtk_container_set_border_width ((GtkContainer*) _tmp55_, (guint) 6);
	_tmp56_ = self->priv->switcher;
	gtk_widget_set_halign ((GtkWidget*) _tmp56_, GTK_ALIGN_CENTER);
	_tmp57_ = self->priv->switcher;
	gtk_widget_set_valign ((GtkWidget*) _tmp57_, GTK_ALIGN_CENTER);
	_tmp58_ = self->priv->switcher;
	gtk_box_pack_end ((GtkBox*) self, (GtkWidget*) _tmp58_, FALSE, TRUE, (guint) 0);
	_tmp59_ = add_separator ((GtkBox*) self, GTK_ORIENTATION_HORIZONTAL, GTK_PACK_END);
	_tmp60_ = _tmp59_;
	_g_object_unref0 (_tmp60_);
	_tmp61_ = self->priv->stack;
	gtk_box_pack_start ((GtkBox*) self, (GtkWidget*) _tmp61_, TRUE, TRUE, (guint) 0);
	font_manager_character_map_side_bar_connect_signals (self);
	views = (_vala_array_free (views, views_length1, (GDestroyNotify) g_object_unref), NULL);
	return self;
}


FontManagerCharacterMapSideBar* font_manager_character_map_side_bar_new (void) {
	return font_manager_character_map_side_bar_construct (FONT_MANAGER_TYPE_CHARACTER_MAP_SIDE_BAR);
}


static void font_manager_character_map_side_bar_real_show (GtkWidget* base) {
	FontManagerCharacterMapSideBar * self;
	GtkTreeView* _tmp0_ = NULL;
	GtkTreeView* _tmp1_ = NULL;
	GtkStack* _tmp2_ = NULL;
	GtkStackSwitcher* _tmp3_ = NULL;
	GtkScrolledWindow* _tmp4_ = NULL;
	GtkScrolledWindow* _tmp5_ = NULL;
	self = (FontManagerCharacterMapSideBar*) base;
	_tmp0_ = self->priv->script_view;
	gtk_widget_show ((GtkWidget*) _tmp0_);
	_tmp1_ = self->priv->block_view;
	gtk_widget_show ((GtkWidget*) _tmp1_);
	_tmp2_ = self->priv->stack;
	gtk_widget_show ((GtkWidget*) _tmp2_);
	_tmp3_ = self->priv->switcher;
	gtk_widget_show ((GtkWidget*) _tmp3_);
	_tmp4_ = self->priv->script_scroll;
	gtk_widget_show ((GtkWidget*) _tmp4_);
	_tmp5_ = self->priv->block_scroll;
	gtk_widget_show ((GtkWidget*) _tmp5_);
	GTK_WIDGET_CLASS (font_manager_character_map_side_bar_parent_class)->show ((GtkWidget*) G_TYPE_CHECK_INSTANCE_CAST (self, gtk_box_get_type (), GtkBox));
	return;
}


void font_manager_character_map_side_bar_set_initial_selection (FontManagerCharacterMapSideBar* self, const gchar* script_path, const gchar* block_path) {
	FontManagerCharacterMapSideBarMode _tmp0_ = 0;
	FontManagerCharacterMapSideBarMode _tmp1_ = 0;
	g_return_if_fail (self != NULL);
	g_return_if_fail (script_path != NULL);
	g_return_if_fail (block_path != NULL);
	_tmp0_ = font_manager_character_map_side_bar_get_mode (self);
	_tmp1_ = _tmp0_;
	if (_tmp1_ == FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_MODE_SCRIPT) {
		const gchar* _tmp2_ = NULL;
		const gchar* _tmp3_ = NULL;
		_tmp2_ = block_path;
		font_manager_character_map_side_bar_select_block_path (self, _tmp2_);
		_tmp3_ = script_path;
		font_manager_character_map_side_bar_select_script_path (self, _tmp3_);
	} else {
		const gchar* _tmp4_ = NULL;
		const gchar* _tmp5_ = NULL;
		_tmp4_ = script_path;
		font_manager_character_map_side_bar_select_script_path (self, _tmp4_);
		_tmp5_ = block_path;
		font_manager_character_map_side_bar_select_block_path (self, _tmp5_);
	}
	return;
}


static void font_manager_character_map_side_bar_select_script_path (FontManagerCharacterMapSideBar* self, const gchar* script_path) {
	GtkTreeIter _iter = {0};
	GucharmapScriptChaptersModel* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	GtkTreeIter _tmp2_ = {0};
	GtkTreeView* _tmp3_ = NULL;
	GtkTreeSelection* _tmp4_ = NULL;
	GtkTreeIter _tmp5_ = {0};
	GtkTreeView* _tmp6_ = NULL;
	GtkTreeView* _tmp7_ = NULL;
	GtkTreeModel* _tmp8_ = NULL;
	GtkTreeIter _tmp9_ = {0};
	GtkTreePath* _tmp10_ = NULL;
	GtkTreePath* _tmp11_ = NULL;
	g_return_if_fail (self != NULL);
	g_return_if_fail (script_path != NULL);
	_tmp0_ = self->priv->scripts;
	_tmp1_ = script_path;
	gtk_tree_model_get_iter_from_string ((GtkTreeModel*) _tmp0_, &_tmp2_, _tmp1_);
	_iter = _tmp2_;
	_tmp3_ = self->priv->script_view;
	_tmp4_ = gtk_tree_view_get_selection (_tmp3_);
	_tmp5_ = _iter;
	gtk_tree_selection_select_iter (_tmp4_, &_tmp5_);
	_tmp6_ = self->priv->script_view;
	_tmp7_ = self->priv->script_view;
	_tmp8_ = gtk_tree_view_get_model (_tmp7_);
	_tmp9_ = _iter;
	_tmp10_ = gtk_tree_model_get_path (_tmp8_, &_tmp9_);
	_tmp11_ = _tmp10_;
	gtk_tree_view_scroll_to_cell (_tmp6_, _tmp11_, NULL, TRUE, 0.5f, 0.5f);
	_gtk_tree_path_free0 (_tmp11_);
	return;
}


static void font_manager_character_map_side_bar_select_block_path (FontManagerCharacterMapSideBar* self, const gchar* block_path) {
	GtkTreeIter _iter = {0};
	GucharmapBlockChaptersModel* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	GtkTreeIter _tmp2_ = {0};
	GtkTreeView* _tmp3_ = NULL;
	GtkTreeSelection* _tmp4_ = NULL;
	GtkTreeIter _tmp5_ = {0};
	GtkTreeView* _tmp6_ = NULL;
	GtkTreeView* _tmp7_ = NULL;
	GtkTreeModel* _tmp8_ = NULL;
	GtkTreeIter _tmp9_ = {0};
	GtkTreePath* _tmp10_ = NULL;
	GtkTreePath* _tmp11_ = NULL;
	g_return_if_fail (self != NULL);
	g_return_if_fail (block_path != NULL);
	_tmp0_ = self->priv->blocks;
	_tmp1_ = block_path;
	gtk_tree_model_get_iter_from_string ((GtkTreeModel*) _tmp0_, &_tmp2_, _tmp1_);
	_iter = _tmp2_;
	_tmp3_ = self->priv->block_view;
	_tmp4_ = gtk_tree_view_get_selection (_tmp3_);
	_tmp5_ = _iter;
	gtk_tree_selection_select_iter (_tmp4_, &_tmp5_);
	_tmp6_ = self->priv->block_view;
	_tmp7_ = self->priv->block_view;
	_tmp8_ = gtk_tree_view_get_model (_tmp7_);
	_tmp9_ = _iter;
	_tmp10_ = gtk_tree_model_get_path (_tmp8_, &_tmp9_);
	_tmp11_ = _tmp10_;
	gtk_tree_view_scroll_to_cell (_tmp6_, _tmp11_, NULL, TRUE, 0.5f, 0.5f);
	_gtk_tree_path_free0 (_tmp11_);
	return;
}


static GtkTreeIter* _gtk_tree_iter_dup (GtkTreeIter* self) {
	GtkTreeIter* dup;
	dup = g_new0 (GtkTreeIter, 1);
	memcpy (dup, self, sizeof (GtkTreeIter));
	return dup;
}


static gpointer __gtk_tree_iter_dup0 (gpointer self) {
	return self ? _gtk_tree_iter_dup (self) : NULL;
}


static void __lambda33_ (FontManagerCharacterMapSideBar* self, GtkTreeSelection* s) {
	GtkTreeIter* _iter = NULL;
	gboolean selected = FALSE;
	GtkTreeSelection* _tmp0_ = NULL;
	GtkTreeIter _tmp1_ = {0};
	gboolean _tmp2_ = FALSE;
	GtkTreeIter _tmp3_ = {0};
	GtkTreeIter* _tmp4_ = NULL;
	GucharmapChaptersModel* model = NULL;
	GtkTreeView* _tmp5_ = NULL;
	GtkTreeModel* _tmp6_ = NULL;
	GucharmapChaptersModel* _tmp7_ = NULL;
	gboolean _tmp8_ = FALSE;
	g_return_if_fail (s != NULL);
	_iter = NULL;
	_tmp0_ = s;
	_tmp2_ = gtk_tree_selection_get_selected (_tmp0_, NULL, &_tmp1_);
	_g_free0 (_iter);
	_tmp3_ = _tmp1_;
	_tmp4_ = __gtk_tree_iter_dup0 (&_tmp3_);
	_iter = _tmp4_;
	selected = _tmp2_;
	_tmp5_ = self->priv->script_view;
	_tmp6_ = gtk_tree_view_get_model (_tmp5_);
	_tmp7_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, gucharmap_chapters_model_get_type (), GucharmapChaptersModel));
	model = _tmp7_;
	_tmp8_ = selected;
	if (_tmp8_) {
		GucharmapChaptersModel* _tmp9_ = NULL;
		GtkTreeIter* _tmp10_ = NULL;
		GtkTreeIter _tmp11_ = {0};
		GucharmapCodepointList* _tmp12_ = NULL;
		GucharmapCodepointList* _tmp13_ = NULL;
		GucharmapChaptersModel* _tmp14_ = NULL;
		GtkTreeIter* _tmp15_ = NULL;
		GtkTreeIter _tmp16_ = {0};
		gchar* _tmp17_ = NULL;
		gchar* _tmp18_ = NULL;
		_tmp9_ = model;
		_tmp10_ = _iter;
		_tmp11_ = *_tmp10_;
		_tmp12_ = gucharmap_chapters_model_get_codepoint_list (_tmp9_, &_tmp11_);
		_tmp13_ = _tmp12_;
		g_signal_emit_by_name (self, "selection-changed", _tmp13_);
		_g_object_unref0 (_tmp13_);
		_tmp14_ = model;
		_tmp15_ = _iter;
		_tmp16_ = *_tmp15_;
		_tmp17_ = gtk_tree_model_get_string_from_iter (G_TYPE_CHECK_INSTANCE_CAST (_tmp14_, GTK_TYPE_TREE_MODEL, GtkTreeModel), &_tmp16_);
		_tmp18_ = _tmp17_;
		font_manager_character_map_side_bar_set_selected_script (self, _tmp18_);
		_g_free0 (_tmp18_);
	}
	_g_object_unref0 (model);
	_g_free0 (_iter);
}


static void ___lambda33__gtk_tree_selection_changed (GtkTreeSelection* _sender, gpointer self) {
	__lambda33_ ((FontManagerCharacterMapSideBar*) self, _sender);
}


static void __lambda34_ (FontManagerCharacterMapSideBar* self, GtkTreeSelection* s) {
	GtkTreeIter* _iter = NULL;
	gboolean selected = FALSE;
	GtkTreeSelection* _tmp0_ = NULL;
	GtkTreeIter _tmp1_ = {0};
	gboolean _tmp2_ = FALSE;
	GtkTreeIter _tmp3_ = {0};
	GtkTreeIter* _tmp4_ = NULL;
	GucharmapChaptersModel* model = NULL;
	GtkTreeView* _tmp5_ = NULL;
	GtkTreeModel* _tmp6_ = NULL;
	GucharmapChaptersModel* _tmp7_ = NULL;
	gboolean _tmp8_ = FALSE;
	g_return_if_fail (s != NULL);
	_iter = NULL;
	_tmp0_ = s;
	_tmp2_ = gtk_tree_selection_get_selected (_tmp0_, NULL, &_tmp1_);
	_g_free0 (_iter);
	_tmp3_ = _tmp1_;
	_tmp4_ = __gtk_tree_iter_dup0 (&_tmp3_);
	_iter = _tmp4_;
	selected = _tmp2_;
	_tmp5_ = self->priv->block_view;
	_tmp6_ = gtk_tree_view_get_model (_tmp5_);
	_tmp7_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, gucharmap_chapters_model_get_type (), GucharmapChaptersModel));
	model = _tmp7_;
	_tmp8_ = selected;
	if (_tmp8_) {
		GucharmapChaptersModel* _tmp9_ = NULL;
		GtkTreeIter* _tmp10_ = NULL;
		GtkTreeIter _tmp11_ = {0};
		GucharmapCodepointList* _tmp12_ = NULL;
		GucharmapCodepointList* _tmp13_ = NULL;
		GucharmapChaptersModel* _tmp14_ = NULL;
		GtkTreeIter* _tmp15_ = NULL;
		GtkTreeIter _tmp16_ = {0};
		gchar* _tmp17_ = NULL;
		gchar* _tmp18_ = NULL;
		_tmp9_ = model;
		_tmp10_ = _iter;
		_tmp11_ = *_tmp10_;
		_tmp12_ = gucharmap_chapters_model_get_codepoint_list (_tmp9_, &_tmp11_);
		_tmp13_ = _tmp12_;
		g_signal_emit_by_name (self, "selection-changed", _tmp13_);
		_g_object_unref0 (_tmp13_);
		_tmp14_ = model;
		_tmp15_ = _iter;
		_tmp16_ = *_tmp15_;
		_tmp17_ = gtk_tree_model_get_string_from_iter (G_TYPE_CHECK_INSTANCE_CAST (_tmp14_, GTK_TYPE_TREE_MODEL, GtkTreeModel), &_tmp16_);
		_tmp18_ = _tmp17_;
		font_manager_character_map_side_bar_set_selected_block (self, _tmp18_);
		_g_free0 (_tmp18_);
	}
	_g_object_unref0 (model);
	_g_free0 (_iter);
}


static void ___lambda34__gtk_tree_selection_changed (GtkTreeSelection* _sender, gpointer self) {
	__lambda34_ ((FontManagerCharacterMapSideBar*) self, _sender);
}


static void __lambda35_ (FontManagerCharacterMapSideBar* self) {
	GtkTreeIter* iter = NULL;
	GucharmapChaptersModel* model = NULL;
	GtkStack* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	GtkTreeIter* _tmp18_ = NULL;
	FontManagerCharacterMapSideBarMode _tmp24_ = 0;
	FontManagerCharacterMapSideBarMode _tmp25_ = 0;
	iter = NULL;
	_tmp0_ = self->priv->stack;
	_tmp1_ = gtk_stack_get_visible_child_name (_tmp0_);
	if (g_strcmp0 (_tmp1_, "Scripts") == 0) {
		GtkTreeView* _tmp2_ = NULL;
		GtkTreeModel* _tmp3_ = NULL;
		GucharmapChaptersModel* _tmp4_ = NULL;
		GucharmapChaptersModel* _tmp5_ = NULL;
		const gchar* _tmp6_ = NULL;
		GtkTreeIter _tmp7_ = {0};
		GtkTreeIter _tmp8_ = {0};
		GtkTreeIter* _tmp9_ = NULL;
		font_manager_character_map_side_bar_set_mode (self, FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_MODE_SCRIPT);
		_tmp2_ = self->priv->script_view;
		_tmp3_ = gtk_tree_view_get_model (_tmp2_);
		_tmp4_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, gucharmap_chapters_model_get_type (), GucharmapChaptersModel));
		_g_object_unref0 (model);
		model = _tmp4_;
		_tmp5_ = model;
		_tmp6_ = self->priv->_selected_script;
		gtk_tree_model_get_iter_from_string ((GtkTreeModel*) _tmp5_, &_tmp7_, _tmp6_);
		_g_free0 (iter);
		_tmp8_ = _tmp7_;
		_tmp9_ = __gtk_tree_iter_dup0 (&_tmp8_);
		iter = _tmp9_;
	} else {
		GtkTreeView* _tmp10_ = NULL;
		GtkTreeModel* _tmp11_ = NULL;
		GucharmapChaptersModel* _tmp12_ = NULL;
		GucharmapChaptersModel* _tmp13_ = NULL;
		const gchar* _tmp14_ = NULL;
		GtkTreeIter _tmp15_ = {0};
		GtkTreeIter _tmp16_ = {0};
		GtkTreeIter* _tmp17_ = NULL;
		font_manager_character_map_side_bar_set_mode (self, FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_MODE_BLOCK);
		_tmp10_ = self->priv->block_view;
		_tmp11_ = gtk_tree_view_get_model (_tmp10_);
		_tmp12_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp11_, gucharmap_chapters_model_get_type (), GucharmapChaptersModel));
		_g_object_unref0 (model);
		model = _tmp12_;
		_tmp13_ = model;
		_tmp14_ = self->priv->_selected_block;
		gtk_tree_model_get_iter_from_string ((GtkTreeModel*) _tmp13_, &_tmp15_, _tmp14_);
		_g_free0 (iter);
		_tmp16_ = _tmp15_;
		_tmp17_ = __gtk_tree_iter_dup0 (&_tmp16_);
		iter = _tmp17_;
	}
	_tmp18_ = iter;
	if (_tmp18_ != NULL) {
		GucharmapChaptersModel* _tmp19_ = NULL;
		GtkTreeIter* _tmp20_ = NULL;
		GtkTreeIter _tmp21_ = {0};
		GucharmapCodepointList* _tmp22_ = NULL;
		GucharmapCodepointList* _tmp23_ = NULL;
		_tmp19_ = model;
		_tmp20_ = iter;
		_tmp21_ = *_tmp20_;
		_tmp22_ = gucharmap_chapters_model_get_codepoint_list (_tmp19_, &_tmp21_);
		_tmp23_ = _tmp22_;
		g_signal_emit_by_name (self, "selection-changed", _tmp23_);
		_g_object_unref0 (_tmp23_);
	}
	_tmp24_ = font_manager_character_map_side_bar_get_mode (self);
	_tmp25_ = _tmp24_;
	g_signal_emit_by_name (self, "mode-set", _tmp25_);
	_g_object_unref0 (model);
	_g_free0 (iter);
}


static void ___lambda35__g_object_notify (GObject* _sender, GParamSpec* pspec, gpointer self) {
	__lambda35_ ((FontManagerCharacterMapSideBar*) self);
}


static void font_manager_character_map_side_bar_connect_signals (FontManagerCharacterMapSideBar* self) {
	GtkTreeView* _tmp0_ = NULL;
	GtkTreeSelection* _tmp1_ = NULL;
	GtkTreeView* _tmp2_ = NULL;
	GtkTreeSelection* _tmp3_ = NULL;
	GtkStack* _tmp4_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->script_view;
	_tmp1_ = gtk_tree_view_get_selection (_tmp0_);
	g_signal_connect_object (_tmp1_, "changed", (GCallback) ___lambda33__gtk_tree_selection_changed, self, 0);
	_tmp2_ = self->priv->block_view;
	_tmp3_ = gtk_tree_view_get_selection (_tmp2_);
	g_signal_connect_object (_tmp3_, "changed", (GCallback) ___lambda34__gtk_tree_selection_changed, self, 0);
	_tmp4_ = self->priv->stack;
	g_signal_connect_object ((GObject*) _tmp4_, "notify::visible-child-name", (GCallback) ___lambda35__g_object_notify, self, 0);
	return;
}


static void font_manager_character_map_side_bar_count_cell_data_func (FontManagerCharacterMapSideBar* self, GtkTreeViewColumn* layout, GtkCellRenderer* cell, GtkTreeModel* model, GtkTreeIter* treeiter) {
	GValue val = {0};
	GtkTreeModel* _tmp0_ = NULL;
	GtkTreeIter _tmp1_ = {0};
	GValue _tmp2_ = {0};
	gchar* name = NULL;
	GValue _tmp3_ = {0};
	gchar* _tmp4_ = NULL;
	GeeHashMap* _tmp5_ = NULL;
	const gchar* _tmp6_ = NULL;
	gboolean _tmp7_ = FALSE;
	GtkCellRenderer* _tmp15_ = NULL;
	GeeHashMap* _tmp16_ = NULL;
	const gchar* _tmp17_ = NULL;
	gpointer _tmp18_ = NULL;
	GValue _tmp19_ = {0};
	g_return_if_fail (self != NULL);
	g_return_if_fail (layout != NULL);
	g_return_if_fail (cell != NULL);
	g_return_if_fail (model != NULL);
	g_return_if_fail (treeiter != NULL);
	_tmp0_ = model;
	_tmp1_ = *treeiter;
	gtk_tree_model_get_value (_tmp0_, &_tmp1_, 0, &_tmp2_);
	G_IS_VALUE (&val) ? (g_value_unset (&val), NULL) : NULL;
	val = _tmp2_;
	_tmp3_ = val;
	_tmp4_ = g_strdup (g_value_get_string (&_tmp3_));
	name = _tmp4_;
	_tmp5_ = self->priv->num_chars;
	_tmp6_ = name;
	_tmp7_ = gee_abstract_map_has_key ((GeeAbstractMap*) _tmp5_, _tmp6_);
	if (!_tmp7_) {
		GeeHashMap* _tmp8_ = NULL;
		const gchar* _tmp9_ = NULL;
		GtkTreeModel* _tmp10_ = NULL;
		GtkTreeIter _tmp11_ = {0};
		GucharmapCodepointList* _tmp12_ = NULL;
		GucharmapCodepointList* _tmp13_ = NULL;
		gint _tmp14_ = 0;
		_tmp8_ = self->priv->num_chars;
		_tmp9_ = name;
		_tmp10_ = model;
		_tmp11_ = *treeiter;
		_tmp12_ = gucharmap_chapters_model_get_codepoint_list (G_TYPE_CHECK_INSTANCE_CAST (_tmp10_, gucharmap_chapters_model_get_type (), GucharmapChaptersModel), &_tmp11_);
		_tmp13_ = _tmp12_;
		_tmp14_ = gucharmap_codepoint_list_get_last_index (_tmp13_);
		gee_abstract_map_set ((GeeAbstractMap*) _tmp8_, _tmp9_, (gpointer) ((gintptr) _tmp14_));
		_g_object_unref0 (_tmp13_);
	}
	_tmp15_ = cell;
	_tmp16_ = self->priv->num_chars;
	_tmp17_ = name;
	_tmp18_ = gee_abstract_map_get ((GeeAbstractMap*) _tmp16_, _tmp17_);
	g_value_init (&_tmp19_, G_TYPE_INT);
	g_value_set_int (&_tmp19_, (gint) ((gintptr) _tmp18_));
	g_object_set_property ((GObject*) _tmp15_, "count", &_tmp19_);
	G_IS_VALUE (&_tmp19_) ? (g_value_unset (&_tmp19_), NULL) : NULL;
	g_value_unset (&val);
	_g_free0 (name);
	G_IS_VALUE (&val) ? (g_value_unset (&val), NULL) : NULL;
	return;
}


FontManagerCharacterMapSideBarMode font_manager_character_map_side_bar_get_mode (FontManagerCharacterMapSideBar* self) {
	FontManagerCharacterMapSideBarMode result;
	GtkStack* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = self->priv->stack;
	_tmp1_ = gtk_stack_get_visible_child_name (_tmp0_);
	if (g_strcmp0 (_tmp1_, "Scripts") == 0) {
		result = FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_MODE_SCRIPT;
		return result;
	} else {
		result = FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_MODE_BLOCK;
		return result;
	}
}


void font_manager_character_map_side_bar_set_mode (FontManagerCharacterMapSideBar* self, FontManagerCharacterMapSideBarMode value) {
	FontManagerCharacterMapSideBarMode _tmp0_ = 0;
	g_return_if_fail (self != NULL);
	_tmp0_ = value;
	if (_tmp0_ == FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_MODE_SCRIPT) {
		GtkStack* _tmp1_ = NULL;
		_tmp1_ = self->priv->stack;
		gtk_stack_set_visible_child_name (_tmp1_, "Scripts");
	} else {
		GtkStack* _tmp2_ = NULL;
		_tmp2_ = self->priv->stack;
		gtk_stack_set_visible_child_name (_tmp2_, "Blocks");
	}
	g_object_notify ((GObject *) self, "mode");
}


const gchar* font_manager_character_map_side_bar_get_selected_script (FontManagerCharacterMapSideBar* self) {
	const gchar* result;
	const gchar* _tmp0_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_selected_script;
	result = _tmp0_;
	return result;
}


void font_manager_character_map_side_bar_set_selected_script (FontManagerCharacterMapSideBar* self, const gchar* value) {
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = value;
	_tmp1_ = g_strdup (_tmp0_);
	_g_free0 (self->priv->_selected_script);
	self->priv->_selected_script = _tmp1_;
	g_object_notify ((GObject *) self, "selected-script");
}


const gchar* font_manager_character_map_side_bar_get_selected_block (FontManagerCharacterMapSideBar* self) {
	const gchar* result;
	const gchar* _tmp0_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_selected_block;
	result = _tmp0_;
	return result;
}


void font_manager_character_map_side_bar_set_selected_block (FontManagerCharacterMapSideBar* self, const gchar* value) {
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = value;
	_tmp1_ = g_strdup (_tmp0_);
	_g_free0 (self->priv->_selected_block);
	self->priv->_selected_block = _tmp1_;
	g_object_notify ((GObject *) self, "selected-block");
}


static void font_manager_character_map_side_bar_class_init (FontManagerCharacterMapSideBarClass * klass) {
	font_manager_character_map_side_bar_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (FontManagerCharacterMapSideBarPrivate));
	((GtkWidgetClass *) klass)->show = font_manager_character_map_side_bar_real_show;
	G_OBJECT_CLASS (klass)->get_property = _vala_font_manager_character_map_side_bar_get_property;
	G_OBJECT_CLASS (klass)->set_property = _vala_font_manager_character_map_side_bar_set_property;
	G_OBJECT_CLASS (klass)->finalize = font_manager_character_map_side_bar_finalize;
	g_object_class_install_property (G_OBJECT_CLASS (klass), FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_MODE, g_param_spec_enum ("mode", "mode", "mode", FONT_MANAGER_TYPE_CHARACTER_MAP_SIDE_BAR_MODE, 0, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_SELECTED_SCRIPT, g_param_spec_string ("selected-script", "selected-script", "selected-script", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_SELECTED_BLOCK, g_param_spec_string ("selected-block", "selected-block", "selected-block", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_signal_new ("mode_set", FONT_MANAGER_TYPE_CHARACTER_MAP_SIDE_BAR, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__ENUM, G_TYPE_NONE, 1, FONT_MANAGER_TYPE_CHARACTER_MAP_SIDE_BAR_MODE);
	g_signal_new ("selection_changed", FONT_MANAGER_TYPE_CHARACTER_MAP_SIDE_BAR, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, gucharmap_codepoint_list_get_type ());
}


static void font_manager_character_map_side_bar_instance_init (FontManagerCharacterMapSideBar * self) {
	gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	self->priv = FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_GET_PRIVATE (self);
	_tmp0_ = g_strdup ("49");
	self->priv->_selected_script = _tmp0_;
	_tmp1_ = g_strdup ("1");
	self->priv->_selected_block = _tmp1_;
}


static void font_manager_character_map_side_bar_finalize (GObject* obj) {
	FontManagerCharacterMapSideBar * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, FONT_MANAGER_TYPE_CHARACTER_MAP_SIDE_BAR, FontManagerCharacterMapSideBar);
	_g_free0 (self->priv->_selected_script);
	_g_free0 (self->priv->_selected_block);
	_g_object_unref0 (self->priv->script_view);
	_g_object_unref0 (self->priv->block_view);
	_g_object_unref0 (self->priv->stack);
	_g_object_unref0 (self->priv->switcher);
	_g_object_unref0 (self->priv->script_scroll);
	_g_object_unref0 (self->priv->block_scroll);
	_g_object_unref0 (self->priv->scripts);
	_g_object_unref0 (self->priv->blocks);
	_g_object_unref0 (self->priv->num_chars);
	G_OBJECT_CLASS (font_manager_character_map_side_bar_parent_class)->finalize (obj);
}


GType font_manager_character_map_side_bar_get_type (void) {
	static volatile gsize font_manager_character_map_side_bar_type_id__volatile = 0;
	if (g_once_init_enter (&font_manager_character_map_side_bar_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (FontManagerCharacterMapSideBarClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) font_manager_character_map_side_bar_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (FontManagerCharacterMapSideBar), 0, (GInstanceInitFunc) font_manager_character_map_side_bar_instance_init, NULL };
		GType font_manager_character_map_side_bar_type_id;
		font_manager_character_map_side_bar_type_id = g_type_register_static (gtk_box_get_type (), "FontManagerCharacterMapSideBar", &g_define_type_info, 0);
		g_once_init_leave (&font_manager_character_map_side_bar_type_id__volatile, font_manager_character_map_side_bar_type_id);
	}
	return font_manager_character_map_side_bar_type_id__volatile;
}


static void _vala_font_manager_character_map_side_bar_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec) {
	FontManagerCharacterMapSideBar * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, FONT_MANAGER_TYPE_CHARACTER_MAP_SIDE_BAR, FontManagerCharacterMapSideBar);
	switch (property_id) {
		case FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_MODE:
		g_value_set_enum (value, font_manager_character_map_side_bar_get_mode (self));
		break;
		case FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_SELECTED_SCRIPT:
		g_value_set_string (value, font_manager_character_map_side_bar_get_selected_script (self));
		break;
		case FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_SELECTED_BLOCK:
		g_value_set_string (value, font_manager_character_map_side_bar_get_selected_block (self));
		break;
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}


static void _vala_font_manager_character_map_side_bar_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec) {
	FontManagerCharacterMapSideBar * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, FONT_MANAGER_TYPE_CHARACTER_MAP_SIDE_BAR, FontManagerCharacterMapSideBar);
	switch (property_id) {
		case FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_MODE:
		font_manager_character_map_side_bar_set_mode (self, g_value_get_enum (value));
		break;
		case FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_SELECTED_SCRIPT:
		font_manager_character_map_side_bar_set_selected_script (self, g_value_get_string (value));
		break;
		case FONT_MANAGER_CHARACTER_MAP_SIDE_BAR_SELECTED_BLOCK:
		font_manager_character_map_side_bar_set_selected_block (self, g_value_get_string (value));
		break;
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}



